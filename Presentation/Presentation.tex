\documentclass[t,11pt]{beamer}

% Theme
\usetheme[faculty=sciences,lang=en,rmfont=pmn,logofont=fpi]{leiden}

% Packages
\usepackage{epstopdf}
\usepackage{tabularx}
\usepackage[compatibility=false]{caption}
\usepackage{subcaption}
\usepackage{mdframed}

% Timeline
\newcommand{\timeline}{\color{white}\makebox[0pt]{\textbullet}\hskip-0.5pt\vrule width 1pt\hspace{\labelsep}}

% Package configuration
\makeatletter
\@addtoreset{subfigure}{framenumber}% subfigure counter resets every frame
\makeatother
\DeclareGraphicsExtensions{.pdf,.eps,.png,.jpg}

% Template overrides
\mathversion{normal}
\usefonttheme{professionalfonts}

\setbeamerfont{title}{size=\Huge,series=}
\setbeamerfont{subtitle}{size=\small}
\setbeamerfont{frametitle}{series=}
\setbeamerfont{title in head/foot}{size=\scriptsize}
\setbeamerfont{author in head/foot}{size=\scriptsize}
\setbeamerfont{subtitle}{size=\footnotesize}

\setbeameroption{hide notes}
\setbeamertemplate{footline}{\fontsize{12}{25}\selectfont~\insertframenumber/\inserttotalframenumber}
\def\headlinepresentationtitle{%
\usebeamerfont{title in head/foot}%
\usebeamercolor[fg]{title in head/foot}%
  \leavevmode%
  \hbox{%
    \begin{beamercolorbox}[wd=.50\linewidth,ht=2.25ex,dp=1ex,left]{title in
      head/foot}%
      \insertlecture%
    \end{beamercolorbox}%
    \begin{beamercolorbox}[wd=.50\linewidth,ht=2.25ex,dp=1ex,right]{title in
      head/foot}%
      \insertauthor
    \end{beamercolorbox}%
  }
  \vskip0pt%
}
\nonstopmode

% Template configuration
\lecture[Leiden Template]{Distributed sentiment analysis on GitHub commit comments}{ldn-bmr}
\title{Distributed sentiment analysis on GitHub commit comments}
\date{\now}
\author{Leon Helwerda, Tim van der Meij}

\begin{document}

% Opening slide
{\setbeamertemplate{navigation symbols}{}
\begin{frame}[plain]
  \maketitle
\end{frame}
\addtocounter{framenumber}{-1}}

\toggleslidecolors

% Regular slide
\setbeamertemplate{navigation symbols}{}
\begin{frame}[fragile]{Contents}
\begin{itemize}
  \item Introduction
  \item Problem statement
  \item Dataset
  \item Implementation
  \item Experiments and results
  \item Conclusion
\end{itemize}
\end{frame}

% Regular slide
\setbeamertemplate{navigation symbols}{}
\begin{frame}[fragile]{Introduction}
\begin{itemize}
  \item Sentiment analysis: extract subjective information (emotions)
  \item GitHub commit comments: review comments on code
  \item Not an easy task: natural language processing, large amounts of data
  \item Processing needs to be fast to be feasible
  \item Distribute most tasks onto worker nodes
\end{itemize}
\end{frame}

% Regular slide
\setbeamertemplate{navigation symbols}{}
\begin{frame}[fragile]{Problem statement}
\begin{itemize}
  \item Commit comment: (mostly) positive, negative or neutral?
  \item Initial idea: use positive and negative word lists
  \item Final idea: use a classifier with a training and test set
\end{itemize}
\begin{itemize}
  \item How do we obtain the dataset and preprocess it?
  \item How do we obtain labeled training data?
  \item What is the best classifier to use?
  \item How can we distribute the work onto worker nodes?
\end{itemize}
\end{frame}

% Regular slide
\setbeamertemplate{navigation symbols}{}
\begin{frame}[fragile]{Dataset}
\vspace*{-26pt}
\begin{table}[h]
  \centering
  {\setlength{\tabcolsep}{3pt}\footnotesize
  \begin{tabular}{|l|r|l|} \hline
    Dump                       &   \# items & Size \\ \hline
    2015-01-29 commit comments &    182.282 & 43~MB compressed, 267~MB BSON
    \\ \hline
    2015-01-29 Latin-only      &    165.427 & 42~MB processed JSON \\ \hline
    Commit comments (17 dumps) &  1.731.251 & 434~MB compressed \\ \hline
    Repositories (languages)   & 12.802.797 & 10.8~GB compressed, 1.3~GB shelf 
    \\ \hline
  \end{tabular}}
\end{table}
\begin{itemize}
  \item GHTorrent project: bimonthly dumps from GitHub API
  \item Commit comments, issue comments, events, repositories\ldots
  \item BSON $\to$ JSON $\to$ preprocessor, example entry:
\end{itemize}
{\scriptsize\begin{verbatim}
{
    "id": 8771097,
    "body": "It seems e.offsetX is not the way to get the relative
             cursor position in Firefox. I'm getting `undefined' in
             my experiments there.",
    "url": "https://api.github.com/repos/fedwiki/wiki-plugin-method/
            comments/8771097"
}
\end{verbatim}}
\end{frame}

% Regular slide
\setbeamertemplate{navigation symbols}{}
\begin{frame}[fragile]{Implementation}
{%
  \vspace{0.5cm}
  \setlength\extrarowheight{6pt}
  \small
  \begin{tabular}{@{\,}r <{\hskip 2pt}!{\timeline} >{\raggedright\arraybackslash}p{9.5cm}}
    & Setting up environment on DAS-3, extensive README \\
    & Implementation of positive/negative word lists approach \\
    & Implementation of automatic dataset download/extraction \\
    & Addition of new words and smileys after data inspection \\
    & Implementation of labeler \\
    & First implementation of classifier \\
    & Code refactoring: framework of components \\
    & Manually labeling 2000 training examples \\
  \end{tabular}
}
\end{frame}

% Regular slide
\setbeamertemplate{navigation symbols}{}
\begin{frame}[fragile]{Implementation (continued)}
{%
  \vspace{0.5cm}
  \setlength\extrarowheight{6pt}
  \begin{tabular}{@{\,}r <{\hskip 2pt}!{\timeline} >{\raggedright\arraybackslash}p{9.5cm}}
    & Implemention of generic preprocessor: download, extract, BSON to JSON and filter fields \\
    & Optimizations: more cores, shelves and extraction search time \\
    & Implementation of repositories preprocessing \\
    & Multiprocessing (MPI) for repository dumps \\
    & Research on classifiers/regressors and parameters \\
    & Implementation of experiment runner with plotter \\
    & Multiprocessing (MPI) for commit comments dumps \\
  \end{tabular}
}
\end{frame}

% Regular slide
\setbeamertemplate{navigation symbols}{}
\begin{frame}[fragile]{Experiments and results}
\begin{itemize}
  \item \ldots
\end{itemize}
\end{frame}

% Regular slide
\setbeamertemplate{navigation symbols}{}
\begin{frame}[fragile]{Conclusion}
\begin{itemize}
  \item \ldots
\end{itemize}
\end{frame}

\end{document}
